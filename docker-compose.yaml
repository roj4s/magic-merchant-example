version: "3"

services:
  magicmerchant-backend:
    build:
      context: ./backend
    container_name: magicmerchant-backend
    environment:
      - MAGIC_API_KEY=f00d0934--wa7M-pDSHGW5bHg_LM3srn1GRbnZMmJE1OQZ6RcAaIuvuLxbShcm9-6vt7me_6kZyVYmBemdK590lQfwBQSl3JE4U-9Vg
      - MAGIC_URL=http://172.15.150.3:4004
    volumes:
      - ./backend:/app
    ports:
      - "4005:4005"
    networks:
      - magic_merchant_net

  magicmerchant-frontend:
    build:
      context: ./frontend
    ports:
      - "3002:3000"
    container_name: magicmerchant-frontend
    stdin_open: true
    volumes:
      - ./frontend:/frontend
    depends_on:
      - magicmerchant-backend
    networks:
      - magic_merchant_net

networks:
  magic_merchant_net:
    external:
      name: "magic_merchant_net"
